<!doctype html>
<html lang="fr">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Trajets ‚Äî EcoRide</title>
    <meta
      name="description"
      content="Recherchez des covoiturages : saisissez votre ville de d√©part, d‚Äôarriv√©e et une date pour trouver un trajet EcoRide."
    />
    <link rel="stylesheet" href="assets/style.css" />
    <!-- IMPORTANT : defer pour que le JS ait acc√®s au DOM -->
    <script defer src="assets/app.js"></script>
  </head>
  <body>
    <header class="nav enhanced-nav">
      <div class="nav-content">
        <a class="logo" href="index.html" aria-label="Accueil EcoRide">
          <img src="assets/image/logoEcoRide.png" alt="Logo EcoRide" />
        </a>

        <nav class="menu">
  <a href="index.html">Accueil</a>
  <a href="trips.html">Trajets</a>
  <a href="profile.html" id="profileLink">Mon profil</a>   <!-- üëà IMPORTANT -->
  <a href="admin.html" id="adminLink" style="display:none">Admin</a>
  <a href="login.html" id="loginLink">Connexion</a>
  <a href="#" id="logoutLink">D√©connexion</a>
  <a href="contact.html">Contact</a>
</nav>

      </div>
    </header>

    <main class="container create-trip">
      <h1>Covoiturages</h1>

      <div class="covoiturage-row">
        <div class="col-left">
          <img class="mock" src="assets/image/image01.png" alt="Illustration d‚Äôun covoiturage" />
        </div>

        <div class="col-right">
          <!-- Formulaire de filtre -->
          <form
            id="filterForm"
            class="search small"
            role="search"
            aria-label="Filtrer les covoiturages"
          >
            <div class="field">
              <label class="sr-only" for="trips_origin_city">Ville de d√©part</label>
              <input
                id="trips_origin_city"
                name="origin_city"
                placeholder="D√©part"
                autocomplete="address-level2"
              />
            </div>

            <div class="field">
              <label class="sr-only" for="trips_dest_city">Ville d‚Äôarriv√©e</label>
              <input
                id="trips_dest_city"
                name="dest_city"
                placeholder="Arriv√©e"
                autocomplete="address-level2"
              />
            </div>

            <div class="field">
              <label class="sr-only" for="trips_date">Date</label>
              <input id="trips_date" type="date" name="date" />
            </div>

            <!-- OPTIONS : fumeur, animaux, musique, trajet tranquille -->
            <fieldset class="options">
              <legend>Options du trajet</legend>

              <label>
                <input type="checkbox" name="smoker" value="1" />
                Fumeur accept√©
              </label>

              <label>
                <input type="checkbox" name="pets" value="1" />
                Animaux accept√©s
              </label>

              <label>
                <input type="checkbox" name="music" value="1" />
                Musique pendant le trajet
              </label>

              <label>
                <input type="checkbox" name="quiet" value="1" />
                Trajet calme / silencieux
              </label>
            </fieldset>

            <button type="submit">Filtrer</button>
            <button type="reset" class="secondary">Effacer</button>
          </form>
        </div>
      </div>

      <!-- Liste des trajets (mise √† jour par JS) -->
      <section id="tripsList" class="grid" aria-live="polite" aria-busy="false"></section>
      <p id="tripsMessage" class="msg info"></p>

      <!-- Gabarit de carte trajet pour app.js -->
      <template id="tripCardTemplate">
        <article class="trip-card">
          <header>
            <h2 class="route"><span class="from"></span> ‚Üí <span class="to"></span></h2>
            <time class="date" datetime=""></time>
            <span class="eco-badge"></span>
          </header>

          <p class="driver">
            Conducteur : <span class="name"></span> ‚Ä¢ <span class="rating" aria-label="Note"></span>
          </p>

          <p class="passengers">Passagers : <span class="passenger-list"></span></p>

          <p class="seats-line">
            Places disponibles :
            <span class="seats-available"></span>
            /
            <span class="seats-total"></span>
          </p>

          <p class="car-line">
            V√©hicule : <span class="car-name"></span>
            <span class="car-plate"></span>
          </p>

          <p class="price" aria-label="Prix"></p>

          <p class="trip-options" aria-label="Options du trajet">
            Options :
            <span class="opt-smoker"></span>
            <span class="opt-pets"></span>
            <span class="opt-music"></span>
            <span class="opt-quiet"></span>
          </p>

          <div class="actions">
            <!-- Bouton utilis√© par app.js pour r√©server / annuler r√©servation -->
            <button type="button" class="btn primary book">R√©server</button>

            <!-- bouton d√©tail (modale) -->
            <button type="button" class="btn detail">D√©tail</button>

            <!-- pour les trajets o√π je suis conducteur -->
            <button type="button" class="btn secondary start-trip-btn" style="display: none">
              D√©marrer
            </button>
            <button type="button" class="btn secondary finish-trip-btn" style="display: none">
              Arriv√©e √† destination
            </button>
            <button type="button" class="btn danger cancel-trip-btn" style="display: none">
              Annuler
            </button>

            <!-- pour les trajets o√π je suis passager -->
            <button type="button" class="btn secondary confirm-ok-btn" style="display: none">
              Tout s'est bien pass√©
            </button>
            <button type="button" class="btn danger confirm-issue-btn" style="display: none">
              Signaler un probl√®me
            </button>
            <button type="button" class="btn danger cancel-booking-btn" style="display: none">
              Annuler ma r√©servation
            </button>
          </div>
        </article>
      </template>

      <!-- Fen√™tre de d√©tail d'un trajet -->
      <div id="tripDetailModal" class="modal">
        <div class="modal-backdrop"></div>

        <div class="modal-dialog" role="dialog" aria-modal="true" aria-labelledby="tripDetailTitle">
          <button class="modal-close" type="button" aria-label="Fermer">‚úï</button>
          <div id="tripDetailContent"></div>
        </div>
      </div>

      <noscript>
        <p>Activez JavaScript pour voir les trajets disponibles et utiliser les filtres.</p>
      </noscript>
    </main>

    <footer>
      <p>Contact : hello@ecoride.local</p>
    </footer>
  </body>
</html>
